<!DOCTYPE html>
<html lang="en" x-data>

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
    integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous" />
  <link rel="stylesheet" href="./src/css/style.css" />
  <link rel="stylesheet" href="./src/css/main.css" />
  <title x-text="$store.data.title"></title>
  <meta name="description" x-bind:content="$store.data.description" />
  <script type="module" src="/src/main.ts"></script>
</head>

<body>
  <div class="h-dvh flex flex-col justify-between">
    <div class="bg-grid-overlay h-full w-full fixed top-0 left-0"></div>
    <div class="scanline-effect" aria-hidden="true"></div>
    <main>
      <div class="window flex flex-col gap-y-[1.25rem]">
        <header>
          <div class="container pt-[1rem]">
            <div class="bg-secondary widget">
              <div class="title-bar primary">
                <p x-text="$store.data.label"></p>
              </div>
              <!-- Logo & Subtitle -->
              <div class="flex-col-1 text-center py-[2rem]">
                <h1 class="logo-text text-glow" x-text="$store.data.logo"></h1>
                <div class="flex justify-center items-center">
                  <h2 class="triangle-icons glow-effect subtitle-text px-[1rem]" x-text="$store.data.subtitle"></h2>
                </div>
              </div>
              <!-- Datetime -->
              <div class="flex justify-center items-center">
                <div
                  class="px-[1rem] py-[0.5rem] flex gap-[8px] justify-center items-center bg-gradient-glow font-secondary tracking-[-1px] font-bold text-[1.25rem]">
                  <p class="uppercase">Today:</p>
                  <p id="currentDay" class="lead" x-text="$store.data.day"></p>
                  <p id="currentDate" class="lead" x-text="$store.data.date"></p>
                </div>
              </div>
            </div>
          </div>
        </header>
        <div class="container">

          <ul id="time-blocks" x-init="entries = $store.data.getInitializedEntries()"
            class="flex flex-col gap-y-[1.25rem]">
            <template x-for="day in $store.data.weekdays">
              <li x-bind:id="day" class="widget">
                <div class="title-bar">
                  <p class="lowercase" x-text="day + '.exe'"></p>
                </div>
                <div class="flex-col-1">
                  <div class="flex-col-05">
                    <p class="label-text text-[1.125rem] font-[900]" x-text="day"></p>
                    <textarea class="p-[1rem] min-h-[150px] border-beveled-aqua bg-black text-white"
                      x-model="entries[day].text"></textarea>
                  </div>
                  <div class="flex items-center justify-end gap-x-[0.85rem]">
                    <button class="btn" x-on:click="$store.data.deleteDayEntry(day)">
                      <p>Delete</p>
                    </button>
                    <button class="btn" x-on:click="$store.data.saveDayEntry(day, entries[day].text)">
                      <p>Save</p>
                    </button>
                  </div>
                </div>
              </li>
            </template>
          </ul>
        </div>
    </main>
    <footer class="py-[2rem]">
      <p class="text-center text-aqua">&copy; <span x-text="$store.data.year"></span> <a href="https://www.rayluna.dev"
          class="underline" target="_blank" rel="noopener noreferrer">rayluna.dev</a></p>
    </footer>
  </div>
</body>

</html>